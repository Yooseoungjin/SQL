--테이블복제 생성
CREATE TABLE EMP_1
as(SELECT * FROM HR.EMPLOYEES);

SELECT *
FROM EMPLOYEES

UPDATE DEPT_TCL
SET LOC = 'BUSAN'
WHERE DEPTNO = 40
;

DELETE FROM DEPT_TCL
WHERE DNAME = 'RESEARCH'
;
INSERT INTO DEPT_TCL
VALUES ( 50,'NETWORK','SEOUL')
;
UPDATE DEPT_TCL
SET LOC = 'BUSAN'
WHERE DEPTNO = 20
;
DELETE FROM DEPT_TCL
WHERE DEPTNO = 40
;
SELECT *
FROM DEPT_TCL

COMMIT

/*LOCK 테스트
동일한 계정으로 DBeaver 세션과 SQL*PLUS 세션을 열어
테이터를 수정하는 동시에 작업을 수행*/
UPDATE DEPT_TCL
SET LOC = 'DAEGU'
WHERE DEPTNO = 30

SELECT *
FROM DEPT_TCL

--튜닝 전과 후 비교
SELECT *
FROM EMP
WHERE SUBSTR(EMPNO,1,2) = '75'
;

SELECT *
FROM EMP
WHERE ENAME||' '||JOB = 'WARD SALESMAN'

--튜닝 전후 비교
SELECT DISTINCT E.EMPNO 
,E.ENAME
,D.DEPTNO 
FROM EMP e ,DEPT d 
WHERE E.DEPTNO = D.DEPTNO 
;

SELECT 
E.EMPNO 
,E.ENAME
,D.DEPTNO 
FROM EMP e ,DEPT d 
WHERE E.DEPTNO = D.DEPTNO 
;

SELECT EMPNO, ENAME ,SUM(SAL)
FROM EMP e 
GROUP BY EMPNO, ENAME

SELECT EMPNO, ENAME
FROM EMP
WHERE EXTRACT(Y)

SELECT DEPTNO
,JOB
,COUNT(EMPNO)
,MAX(SAL)
,MIN(SAL)
,SUM(SAL)
,AVG(SAL)
FROM EMP
GROUP BY CUBE (DEPTNO,JOB)

SELECT DEPTNO
,JOB
,COUNT(EMPNO)
,MAX(SAL)
,MIN(SAL)
,SUM(SAL)
,AVG(SAL)
FROM EMP
GROUP BY GROUPING SETS (DEPTNO,JOB)

